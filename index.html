<!DOCTYPE html>
<html>

<head>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
  <button onclick="test()">Test profiles</button>
  <pre id="result">ëŒ€ê¸°ì¤‘...</pre>

  <script>
    // CDN supabase ì „ì—­ ì‚¬ìš©
    const { createClient } = supabase;

    const supabaseClient = createClient('http://rag-api.local/',
      'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImxvY2FsaG9zdCIsInJvbGUiOiJhbm9uIiwiaWF0IjoxNjQxNzY5MjAwLCJleHAiOjE5NTczNDUyMDB9.nsv6ak_BFsjGN9cQ3BzYN35ZExCLgXF8E7O1tx55MSs'
    );

    // ì „ì—­ í•¨ìˆ˜ë¡œ onclick ì ‘ê·¼ ê°€ëŠ¥
    window.test = function () {
      document.getElementById('result').textContent = 'ë¡œë”©...';
      supabaseClient
        .from('profiles')
        .select('*')
        .then(({ data, error }) => {
          document.getElementById('result').textContent =
            error ? `âŒ ${error.message}` :
              data?.length ? JSON.stringify(data, null, 2) :
                'âœ… ì—°ê²° ì„±ê³µ! í…Œì´ë¸” ë¹„ì–´ìžˆìŒ';
        })
        .catch(e => document.getElementById('result').textContent = `ðŸ’¥ ${e.message}`);
    };
  </script>
</body>

</html>